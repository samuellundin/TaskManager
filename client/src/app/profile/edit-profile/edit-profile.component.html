<div class="offset-2 col-8">

  <div class="d-flex mb-2">
    <h2 class="mb-0">Edit profile</h2>
  </div>

  <hr class="mb-4">

  <form #f="ngForm">
    <div class="form-group">
      <label for="username">Email address (Username):</label>
      <input type="text" class="form-control" [(ngModel)]="model.username" #username="ngModel" name="username" id="username" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" required>
      <div *ngIf="username.errors && (username.dirty || username.touched)" class="alert alert-danger">
        Email address not valid.
      </div>
      <div *ngIf="usernameTaken" class="alert alert-danger">
        Email address is already in use.
      </div>
    </div>

    <div class="form-group">
      <label for="firstName">First name:</label>
      <input type="text" class="form-control" [ngModel]="model.firstName | titlecase" (ngModelChange)="model.firstName=$event" #firstName="ngModel" name="firstName" id="firstName" minlength="2" required title>
      <div *ngIf="firstName.errors && (firstName.dirty || firstName.touched)" class="alert alert-danger">
        First name must be at least 2 characters.
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last name:</label>
      <input type="text" class="form-control" [ngModel]="model.lastName | titlecase" (ngModelChange)="model.lastName=$event" #lastName="ngModel" name="lastName" id="lastName" minlength="2" required>
      <div *ngIf="lastName.errors && (lastName.dirty || lastName.touched)" class="alert alert-danger">
        Last name must be at least 2 characters.
      </div>
    </div>

    <div class="form-group">
      <label for="password">New password:</label>
      <input type="password" class="form-control" [(ngModel)]="model.password" #password="ngModel" name="password" id="password" minlength="6">
      <div *ngIf="password.errors && (password.dirty || password.touched)" class="alert alert-danger">
        Password must be at least 6 characters.
      </div>
    </div>

    <div class="form-group">
      <label for="confirmPassword">Confirm password:</label>
      <input type="password" class="form-control" [(ngModel)]="model.confirmPassword" #confirmPassword="ngModel" name="confirmPassword" id="confirmPassword" minlength="6">
      <div *ngIf="!passwordMatch() && (confirmPassword.dirty || confirmPassword.touched)" class="alert alert-danger">
        Passwords dont match.
      </div>
    </div>

    <div class="text-right">
      <button type="button" class="btn btn-danger" (click)="cancel()">Cancel</button>
      <button type="button" class="btn btn-success" [disabled]="!f.valid && !passwordMatch()" (click)="save()">Save</button>
    </div>
  </form>
</div>


